
#['lsce','csir','spco2','jena','jma','nies','ens']

# Product 1: lsce		
cdo -mulc,3.15E-05 -remapbil,r360x180 -selvar,fgco2 dataset-carbon-rep-monthly_1618556966913.nc processed/LSCE_5.nc
cdo -mul processed/LSCE_5.nc processed/LSCE_4.nc processed/LSCE_3.nc
cdo -sellonlatbox,-180,180,-90,90 -mulc,-1 processed/LSCE_3.nc lsce_1985-2020.nc
cdo -selyear,1990/2019 ../lsce/lsce_1985-2020.nc lsce_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/lsce_1990-2020.nc lsce_1990-2020_co2.nc

# Product 2: csir
ncks -v fgco2 CSIR-ML6_CO2_1982-2019_figshare_v2020.6.nc processed/csir_4.nc
cdo -mulc,3.78E-7 processed/csir_4.nc processed/csir_3.nc
cdo -mul processed/csir_3.nc processed/csir_2.nc csir_1982-2020.nc
cdo -selyear,1990/2019 ../csir/csir_1982-2020.nc csir_1990-2020.nc
ncrename -v fgco2,co2flux ../datasets/csir_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/csir_1990-2020.nc csir_1990-2020_co2.nc

# Product 3: spco2
cdo -selvar,fgco2_raw spco2_MPI-SOM_FFN_v2020.nc processed/spco2_5.nc
cdo -mulc,1.2E-14 -mul processed/spco2_5.nc processed/spco2_4.nc processed/spco2_3.nc
cdo -sellonlatbox,-180,180,-90,90 processed/spco2_3.nc spco2_1982-2020.nc
cdo -selyear,1990/2019 ../spco2/spco2_1982-2020.nc spco2_1990-2020.nc
ncrename -v fgco2_raw,co2flux ../datasets/spco2_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/spco2_1990-2020.nc spco2_1990-2020_co2.nc

# Product 4: jena
ncks -v co2flux_ocean oc_v2020_daily.nc processed/co2.nc
cdo -div processed/co2.nc processed/area.nc processed/co2_area.nc
cdo -L -remapbil,r360x180 -monmean -daymean processed/co2_area.nc processed/jena_co2_area.nc
cdo -L -sellonlatbox,-180,180,-90,90 -mul processed/jena_area.nc processed/jena_co2_area.nc jena_1957-2020.nc
cdo -selyear,1990/2019 ../jena/jena_1957-2020.nc jena_1990-2020.nc
ncrename -v co2flux_ocean,co2flux ../datasets/jena_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/jena_1990-2020.nc jena_1990-2020_co2.nc


# Product 5: jma
cdo -mergetime original/JMA_co2map_1990.nc original/JMA_co2map_1991.nc original/JMA_co2map_1992.nc original/JMA_co2map_1993.nc original/JMA_co2map_1994.nc original/JMA_co2map_1995.nc original/JMA_co2map_1996.nc original/JMA_co2map_1997.nc original/JMA_co2map_1998.nc original/JMA_co2map_1999.nc original/JMA_co2map_2000.nc original/JMA_co2map_2001.nc original/JMA_co2map_2002.nc original/JMA_co2map_2003.nc original/JMA_co2map_2004.nc original/JMA_co2map_2005.nc original/JMA_co2map_2006.nc original/JMA_co2map_2007.nc original/JMA_co2map_2008.nc original/JMA_co2map_2009.nc original/JMA_co2map_2010.nc original/JMA_co2map_2011.nc original/JMA_co2map_2012.nc original/JMA_co2map_2013.nc original/JMA_co2map_2014.nc original/JMA_co2map_2015.nc original/JMA_co2map_2016.nc original/JMA_co2map_2017.nc original/JMA_co2map_2018.nc original/JMA_co2map_2019.nc processed/jma_5.nc
cdo -mulc,1.2E-14 -selvar,flux processed/jma_5.nc processed/jma_4.nc
cdo -mul processed/jma_4.nc processed/jma_3.nc processed/jma_2.nc
cdo -sellonlatbox,-180,180,-90,90 processed/jma_2.nc jma_1990-2020.nc
cdo -selyear,1990/2019 ../jma/jma_1990-2020.nc jma_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/jma_1990-2020.nc jma_1990-2020_co2.nc
ncrename -v flux,co2flux ../datasets/jma_1990-2020.nc

# Product 6: nies
ncrename -d month,time original/nies.nn.co2w.flux.1985.ver.2020.1.nc processed/nies_1985.nc
cdo -settaxis,1985-01-15,00:00,1mon -selvar,flux processed/nies_1985.nc processed/nies_time_1985.nc
cdo -mulc,1.44E-13 -mergetime processed/nies_time_1985.nc processed/nies_time_1986.nc processed/nies_time_1987.nc processed/nies_time_1988.nc processed/nies_time_1989.nc processed/nies_time_1990.nc processed/nies_time_1991.nc processed/nies_time_1992.nc processed/nies_time_1993.nc processed/nies_time_1994.nc processed/nies_time_1995.nc processed/nies_time_1996.nc processed/nies_time_1997.nc processed/nies_time_1998.nc processed/nies_time_1999.nc processed/nies_time_2000.nc processed/nies_time_2001.nc processed/nies_time_2002.nc processed/nies_time_2003.nc processed/nies_time_2004.nc processed/nies_time_2005.nc processed/nies_time_2006.nc processed/nies_time_2007.nc processed/nies_time_2008.nc processed/nies_time_2009.nc processed/nies_time_2010.nc processed/nies_time_2011.nc processed/nies_time_2012.nc processed/nies_time_2013.nc processed/nies_time_2014.nc processed/nies_time_2015.nc processed/nies_time_2016.nc processed/nies_time_2017.nc processed/nies_time_2018.nc processed/nies_time_2019.nc processed/nies_2.nc
cdo -sellonlatbox,-180,180,-90,90 -invertlat -mul processed/nies_2.nc processed/nies_1.nc nies_1985-2020.nc
cdo -selyear,1990/2019 ../nies/nies_1985-2020.nc nies_1990-2020.nc
ncrename -v flux,co2flux ../datasets/nies_1990-2020.nc
cdo -setgrid,grid.txt ../datasets/nies_1990-2020.nc nies_1990-2020_co2.nc

# Obs-based Ensemble Mean : obs_ens
cdo -ensmean spco2_1990-2020_co2.nc lsce_1990-2020_co2.nc jma_1990-2020_co2.nc jena_1990-2020_co2.nc nies_1990-2020_co2.nc csir_1990-2020_co2.nc ens_1990-2020_co2.nc

# MPI-GE Ensemble Mean: mod_ens

cdo ensmean GE_co2_100.nc GE_co2_10.nc GE_co2_11.nc GE_co2_12.nc GE_co2_13.nc GE_co2_14.nc GE_co2_15.nc GE_co2_16.nc GE_co2_17.nc GE_co2_18.nc GE_co2_19.nc GE_co2_1.nc GE_co2_20.nc GE_co2_21.nc GE_co2_22.nc GE_co2_23.nc GE_co2_24.nc GE_co2_25.nc GE_co2_26.nc GE_co2_27.nc GE_co2_28.nc GE_co2_29.nc GE_co2_2.nc GE_co2_30.nc GE_co2_31.nc GE_co2_32.nc GE_co2_33.nc GE_co2_34.nc GE_co2_35.nc GE_co2_36.nc GE_co2_37.nc GE_co2_38.nc GE_co2_39.nc GE_co2_3.nc GE_co2_40.nc GE_co2_41.nc GE_co2_42.nc GE_co2_43.nc GE_co2_44.nc GE_co2_45.nc GE_co2_46.nc GE_co2_47.nc GE_co2_48.nc GE_co2_49.nc GE_co2_4.nc GE_co2_50.nc GE_co2_51.nc GE_co2_52.nc GE_co2_53.nc GE_co2_54.nc GE_co2_55.nc GE_co2_56.nc GE_co2_57.nc GE_co2_58.nc GE_co2_59.nc GE_co2_5.nc GE_co2_60.nc GE_co2_61.nc GE_co2_62.nc GE_co2_63.nc GE_co2_64.nc GE_co2_65.nc GE_co2_66.nc GE_co2_67.nc GE_co2_68.nc GE_co2_69.nc GE_co2_6.nc GE_co2_70.nc GE_co2_71.nc GE_co2_72.nc GE_co2_73.nc GE_co2_74.nc GE_co2_75.nc GE_co2_76.nc GE_co2_77.nc GE_co2_78.nc GE_co2_79.nc GE_co2_7.nc GE_co2_80.nc GE_co2_81.nc GE_co2_82.nc GE_co2_83.nc GE_co2_84.nc GE_co2_85.nc GE_co2_86.nc GE_co2_87.nc GE_co2_88.nc GE_co2_89.nc GE_co2_8.nc GE_co2_90.nc GE_co2_91.nc GE_co2_92.nc GE_co2_93.nc GE_co2_94.nc GE_co2_95.nc GE_co2_96.nc GE_co2_97.nc GE_co2_98.nc GE_co2_99.nc GE_co2_9.nc GE_co2_ensemble.nc

cdo -mul model_GE/gridarea_100.nc model_GE/GE_co2_histrcp45_1990-2020_100.nc model_GE_co2/GE_co2_100.nc

cdo -f nc4 -z zip_1 -O -selyear,1990/2019 -mulc,3.15E-5 -mergetime model_GE/temp_hist0100_hamocc_data_2d_mm_18500101_18501231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18510101_18511231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18520101_18521231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18530101_18531231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18540101_18541231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18550101_18551231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18560101_18561231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18570101_18571231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18580101_18581231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18590101_18591231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18600101_18601231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18610101_18611231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18620101_18621231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18630101_18631231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18640101_18641231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18650101_18651231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18660101_18661231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18670101_18671231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18680101_18681231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18690101_18691231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18700101_18701231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18710101_18711231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18720101_18721231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18730101_18731231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18740101_18741231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18750101_18751231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18760101_18761231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18770101_18771231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18780101_18781231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18790101_18791231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18800101_18801231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18810101_18811231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18820101_18821231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18830101_18831231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18840101_18841231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18850101_18851231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18860101_18861231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18870101_18871231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18880101_18881231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18890101_18891231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18900101_18901231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18910101_18911231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18920101_18921231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18930101_18931231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18940101_18941231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18950101_18951231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18960101_18961231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18970101_18971231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18980101_18981231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_18990101_18991231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19000101_19001231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19010101_19011231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19020101_19021231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19030101_19031231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19040101_19041231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19050101_19051231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19060101_19061231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19070101_19071231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19080101_19081231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19090101_19091231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19100101_19101231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19110101_19111231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19120101_19121231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19130101_19131231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19140101_19141231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19150101_19151231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19160101_19161231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19170101_19171231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19180101_19181231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19190101_19191231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19200101_19201231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19210101_19211231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19220101_19221231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19230101_19231231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19240101_19241231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19250101_19251231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19260101_19261231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19270101_19271231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19280101_19281231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19290101_19291231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19300101_19301231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19310101_19311231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19320101_19321231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19330101_19331231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19340101_19341231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19350101_19351231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19360101_19361231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19370101_19371231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19380101_19381231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19390101_19391231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19400101_19401231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19410101_19411231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19420101_19421231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19430101_19431231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19440101_19441231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19450101_19451231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19460101_19461231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19470101_19471231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19480101_19481231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19490101_19491231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19500101_19501231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19510101_19511231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19520101_19521231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19530101_19531231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19540101_19541231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19550101_19551231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19560101_19561231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19570101_19571231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19580101_19581231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19590101_19591231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19600101_19601231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19610101_19611231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19620101_19621231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19630101_19631231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19640101_19641231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19650101_19651231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19660101_19661231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19670101_19671231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19680101_19681231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19690101_19691231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19700101_19701231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19710101_19711231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19720101_19721231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19730101_19731231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19740101_19741231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19750101_19751231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19760101_19761231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19770101_19771231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19780101_19781231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19790101_19791231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19800101_19801231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19810101_19811231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19820101_19821231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19830101_19831231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19840101_19841231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19850101_19851231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19860101_19861231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19870101_19871231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19880101_19881231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19890101_19891231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19900101_19901231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19910101_19911231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19920101_19921231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19930101_19931231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19940101_19941231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19950101_19951231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19960101_19961231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19970101_19971231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19980101_19981231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_19990101_19991231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20000101_20001231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20010101_20011231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20020101_20021231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20030101_20031231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20040101_20041231.nc model_GE/temp_hist0100_hamocc_data_2d_mm_20050101_20051231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20060101_20061231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20070101_20071231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20080101_20081231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20090101_20091231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20100101_20101231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20110101_20111231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20120101_20121231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20130101_20131231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20140101_20141231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20150101_20151231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20160101_20161231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20170101_20171231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20180101_20181231.nc model_GE/temp_rcp450100_hamocc_data_2d_mm_20190101_20191231.nc model_GE/GE_co2_histrcp45_1990-2020_100.nc
